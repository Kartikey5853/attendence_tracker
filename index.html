<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Attendance Tracker - TKRCET</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 14l9-5-9-5-9 5 9 5z" />
                            <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                            <path d="M12 14l9-5-9-5-9 5 9 5z" />
                            <path d="M12 14v7" />
                        </svg>
                    </div>
                    <div>
                        <h1>Attendance Tracker</h1>
                        <p class="subtitle">TKRCET — The  Group</p>
                    </div>
                </div>
                <button class="refresh-btn" id="refreshBtn" onclick="refreshAttendance()">
                    <svg class="refresh-icon" id="refreshIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 4v6h-6" /><path d="M1 20v-6h6" />
                        <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15" />
                    </svg>
                    <span id="refreshText">Refresh Attendance</span>
                </button>
            </div>
        </header>

        <!-- Status Banner -->
        <div class="status-banner" id="statusBanner" style="display:none;">
            <div class="status-content">
                <div class="spinner" id="statusSpinner"></div>
                <span id="statusMessage"></span>
            </div>
        </div>

        <!-- Stats Row -->
        <section class="stats-row" id="statsRow">
            <div class="stat-card">
                <div class="stat-icon blue">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2" /><circle cx="9" cy="7" r="4" />
                        <path d="M23 21v-2a4 4 0 00-3-3.87" /><path d="M16 3.13a4 4 0 010 7.75" />
                    </svg>
                </div>
                <div>
                    <p class="stat-label">Total Students</p>
                    <p class="stat-value" id="totalStudents">6</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon green">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14" />
                        <polyline points="22 4 12 14.01 9 11.01" />
                    </svg>
                </div>
                <div>
                    <p class="stat-label">Above 75%</p>
                    <p class="stat-value" id="aboveThreshold">-</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon red">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10" />
                        <line x1="15" y1="9" x2="9" y2="15" />
                        <line x1="9" y1="9" x2="15" y2="15" />
                    </svg>
                </div>
                <div>
                    <p class="stat-label">Below 75%</p>
                    <p class="stat-value" id="belowThreshold">-</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon purple">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="20" x2="18" y2="10" />
                        <line x1="12" y1="20" x2="12" y2="4" />
                        <line x1="6" y1="20" x2="6" y2="14" />
                    </svg>
                </div>
                <div>
                    <p class="stat-label">Avg Attendance</p>
                    <p class="stat-value" id="avgAttendance">-</p>
                </div>
            </div>
        </section>

        <!-- Last Updated -->
        <div class="last-updated" id="lastUpdated">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                <circle cx="12" cy="12" r="10" /><polyline points="12 6 12 12 16 14" />
            </svg>
            <span id="lastUpdatedText">No data yet — click "Refresh Attendance" to fetch</span>
        </div>

        <!-- Cards Grid -->
        <section class="cards-grid" id="cardsGrid">
            <!-- Cards populated by JS -->
        </section>

        <!-- Loading Skeleton -->
        <section class="cards-grid" id="skeletonGrid">
            <div class="student-card skeleton"><div class="skeleton-avatar"></div><div class="skeleton-text"></div><div class="skeleton-bar"></div></div>
            <div class="student-card skeleton"><div class="skeleton-avatar"></div><div class="skeleton-text"></div><div class="skeleton-bar"></div></div>
            <div class="student-card skeleton"><div class="skeleton-avatar"></div><div class="skeleton-text"></div><div class="skeleton-bar"></div></div>
            <div class="student-card skeleton"><div class="skeleton-avatar"></div><div class="skeleton-text"></div><div class="skeleton-bar"></div></div>
            <div class="student-card skeleton"><div class="skeleton-avatar"></div><div class="skeleton-text"></div><div class="skeleton-bar"></div></div>
            <div class="student-card skeleton"><div class="skeleton-avatar"></div><div class="skeleton-text"></div><div class="skeleton-bar"></div></div>
        </section>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
